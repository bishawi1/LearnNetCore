@model List<MSIS.ViewModels.TaskDetailsViewModel>
<div style=" border:solid 1px black; padding:3px;">
    <table class="table table-hover" id="myTable">

        <thead class="thead-dark">
            <tr>
                <th>Task Date</th>
                <th>Task Subject</th>
                <th>Task Owner</th>
                <th>Responsible for Task</th>
                <th>Project</th>
                <th>Branch</th>
                <th style="width:100px;">Status</th>
            </tr>
        </thead>



        @{ string strProjectName = ""; }
        @foreach (var task in Model)
        {
            @if (task.strGroupBy == "ProjectName")
            {
                @if (strProjectName != task.ProjectName)
                {
                    strProjectName = task.ProjectName;
                    <tr>
                        <th colspan="7">
                            <h1>@task.ProjectName</h1>
                        </th>
                    </tr>
                }
            }
            else if (task.strGroupBy == "TaskOwnerName")
            {
                @if (strProjectName != task.TaskOwnerName)
                {
                    strProjectName = task.TaskOwnerName;
                    <tr>
                        <th colspan="7">
                            <h3 class="text-center"> @task.TaskOwnerName</h3>
                        </th>

                    </tr>
                }
            }

            else if (task.strGroupBy == "TaskResponsibleName")
            {
                @if (strProjectName != task.TaskResponsibleName)
                {
                    strProjectName = task.TaskResponsibleName;
                    <tr>
                        <th colspan="7">
                            <h3> @task.TaskResponsibleName</h3>
                        </th>

                    </tr>
                }
            }

            else
            {
                if (task.strGroupBy == "TaskStatusCode")
                {
                    @if (strProjectName != task.TaskStatusCode)
                    {
                        strProjectName = task.TaskStatusCode;
                        <tr>
                            <th colspan="7">
                                <h3> @task.TaskStatusCode</h3>
                            </th>

                        </tr>
                    }
                }
            }

    <tr>
        <td>@task.TaskStartDate.ToString("dd/MM/yyyy")</td>
        <td>@task.TaskSubject</td>
        <td>@task.TaskOwnerName</td>
        <td>@task.TaskResponsibleName</td>
        <td>@task.ProjectName</td>
        <td>@task.BranchName</td>
        <td>@task.StatusName</td>
        @*@if (task.TaskStatusId == 1)
        {
            <td class="bg-secondary text-center">@task.StatusName </td>
        }
        else if (task.TaskStatusId == 2)
        {
            <td class="bg-primary text-center">@task.StatusName </td>
        }
        else if (task.TaskStatusId == 3)
        {
            <td class="bg-danger text-center">@task.StatusName </td>
        }
        else if (task.TaskStatusId == 4)
        {
            <td class="bg-warning text-center">@task.StatusName </td>
        }
        else if (task.TaskStatusId == 5)
        {
            <td class="badge-success text-center">@task.StatusName </td>
        }
        else
        {
            <td>@task.StatusName </td>

        }*@

    </tr>

        }


    </table>
</div>
