@model CreatePurchaseOrderViewModel;
@{
    ViewData["Title"] = "Create";
}


<form method="post" class="mt-3">
    <div class="card mt-3">
        <div class="card-header">
            <h3 class="text-center">New Purchase Order</h3>
        </div>
        <div class="card-body">
            <!--------------------- Main Data -->
            <div class="flex-container">
                <div class="input-group col-sm-6 row">
                    <span class="input-group-text col-sm-3 " id="txtId-addon">Id</span>
                    <input asp-for="PurchaseOrderDetails.Id" id="txtOrderId" class="form-control col-sm-4 " disabled placeholder="txtOrderId" aria-describedby="txtId-addon" />
                    <input asp-for="PurchaseOrderDetails.PurchaseOrderCode" id="txtPurchaseOrderCode" class="form-control col-sm-4 " disabled placeholder="PurchaseOrderCode" aria-describedby="txtPurchaseOrderCode-addon" />
                    <span asp-validation-for="PurchaseOrderDetails.Id" class="text-danger"></span>
                </div>
                <div class="input-group col-sm-6 row">
                    <span class="input-group-text col-sm-3 " id="taskSubject-addon">Date</span>
                    <input type="text" asp-for="PurchaseOrderDetails.PurchaseOrderDate" id="txtPurchaseOrderDate" class="form-control col-sm-9 datepicker" placeholder="Date" aria-describedby="PurchaseOrderDate-addon" />
                    <span asp-validation-for="PurchaseOrderDetails.PurchaseOrderDate" class="text-danger"></span>
                </div>
                <div class="input-group row col-sm-6">
                    <span class="input-group-text col-sm-3 col-form-label">Currency</span>
                    @Html.DropDownListFor(x => Model.PurchaseOrderDetails.CurrencyId, new SelectList(Model.CurrencyList, "Id", "CurrencyName"), new { @id = "txtCurrencyId", @class = "form-control" })
                    <span asp-validation-for="PurchaseOrderDetails.CurrencyId" class="text-danger"></span>
                </div>


                <div class="input-group row col-sm-6">
                    <span class="input-group-text col-sm-3 col-form-label">Supllier</span>
                    @Html.DropDownListFor(x => Model.PurchaseOrderDetails.SupplierId, new SelectList(Model.suppliers, "Id", "SupplierName"), new { @id = "txtSupplierId", @class = "form-control" })
                    <span asp-validation-for="PurchaseOrderDetails.SupplierId" class="text-danger"></span>
                </div>

                <div class="input-group row col-sm-6">
                    <span class="input-group-text col-sm-3 col-form-label">Employee</span>
                    @Html.DropDownListFor(x => Model.PurchaseOrderDetails.EmployeeId, new SelectList(Model.Employees, "Id", "Name"), new { @id = "txtEmployeeId", @class = "form-control" })
                    <span asp-validation-for="PurchaseOrderDetails.EmployeeId" class="text-danger"></span>
                </div>

                <div class="input-group row col-sm-6">
                    <span class="input-group-text col-sm-3 col-form-label">Project</span>
                    @Html.DropDownListFor(x => Model.PurchaseOrderDetails.ProjectId, new SelectList(Model.Projects, "Id", "ProjectName"), new { @id = "txtProjectId", @class = "form-control" })
                    <span asp-validation-for="PurchaseOrderDetails.ProjectId" class="text-danger"></span>
                </div>

                <div class="input-group row col-sm-6">
                    <span class="input-group-text col-sm-3 col-form-label">Branch</span>
                    @Html.DropDownListFor(x => Model.PurchaseOrderDetails.BranchId, new SelectList(Model.Branches, "Id", "Name"), new { @id = "txtBranchId", @class = "form-control" })
                    <span asp-validation-for="PurchaseOrderDetails.BranchId" class="text-danger"></span>
                </div>
                <div class="input-group row col-sm-12">
                    <span asp-for="PurchaseOrderDetails.Notes" class="input-group-text col-sm-2 col-form-label" id="Notes-addon">Description</span>
                    <textarea id="txtOrderNotes" type="text" asp-for="PurchaseOrderDetails.Notes" class="form-control" placeholder="Notes" aria-describedby="Notes-addon" ></textarea>
                    <span asp-validation-for="PurchaseOrderDetails.Notes" class="text-danger"></span>
                </div>

                <div class="form-group row">
                    <div asp-validation-summary="All" class="text-danger"></div>
                </div>
                <!-------------------- Items -->
            </div>
        </div>
        <div class="card-footer">
            <div class="text-center mr-sm-2">
                <button style="width:auto;" type="submit" class="btn btn-outline-primary"><i class="fa fa-save"></i> Update</button>
                <a style="width:auto;" asp-action="ListPurchaseOrders" asp-controller="PurchaseOrders" class="btn btn-outline-danger ml-2"><i class="fa fa-times"></i>Cancel</a>
            </div>
        </div>

    </div>

</form>

@section Scripts{
    <script src="~/lib/jqueryui/jquery-ui.min.js"></script>
    <script src="~/js/CustomScript.js"></script>
    <script>
        InitDatepicker();
        $(window).ready(function () {
            $('#mnuTMS').removeClass('collapse show');
            $('#mnuPurchaseOrders').addClass('collapse show');
            $('#mnuTMS').addClass('collapse hide');
        });
    </Script>
}